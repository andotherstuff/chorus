{
  "phase": "Phase 1: Enhanced Login Flow Foundation",
  "description": "Core components and hooks for enhanced authentication flows",
  "estimatedTime": "1 week",
  "issues": [
    {
      "id": 1,
      "title": "Create CompositeLoginDialog component",
      "description": "Create CompositeLoginDialog.tsx - Main orchestrator for enhanced login flows that combines Firebase and Nostr authentication paths with automatic pubkey linking. This component will replace the current simple login flow with a multi-step process that can handle legacy users with existing accounts.",
      "labels": ["enhancement", "authentication"],
      "priority": "high",
      "type": "component",
      "deliverable": "CompositeLoginDialog.tsx"
    },
    {
      "id": 2,
      "title": "Create LoginChoiceStep component",
      "description": "Create LoginChoiceStep.tsx - Three-option landing page component that presents users with \"Get Started\", \"I have a Wavlake account\", and \"I have a Nostr account\" options. This replaces the current binary choice with a clearer user experience that guides different user types to appropriate flows.",
      "labels": ["enhancement", "authentication", "UX"],
      "priority": "high",
      "type": "component",
      "deliverable": "LoginChoiceStep.tsx"
    },
    {
      "id": 3,
      "title": "Create NostrAuthStep component",
      "description": "Create NostrAuthStep.tsx - Enhanced Nostr authentication component with auto-linking capabilities. This component handles Nostr key authentication and automatically links the pubkey to Firebase accounts when appropriate, supporting extension logins, nsec input, and NIP-46 bunker connections.",
      "labels": ["enhancement", "authentication", "nostr"],
      "priority": "high",
      "type": "component",
      "deliverable": "NostrAuthStep.tsx"
    },
    {
      "id": 4,
      "title": "Create ProfileSelectionStep component",
      "description": "Create ProfileSelectionStep.tsx - Component for displaying and selecting linked pubkeys when a Firebase user has multiple associated Nostr accounts. Shows profile information for each linked account to help users choose the correct identity.",
      "labels": ["enhancement", "authentication", "profile"],
      "priority": "medium",
      "type": "component",
      "deliverable": "ProfileSelectionStep.tsx"
    },
    {
      "id": 5,
      "title": "Create useAutoLinkPubkey hook",
      "description": "Create useAutoLinkPubkey.ts hook - Handle automatic pubkey linking between Firebase accounts and Nostr identities. This hook manages the API calls and state for linking pubkeys when users authenticate, with proper error handling for failed linking attempts.",
      "labels": ["enhancement", "authentication", "hooks"],
      "priority": "high",
      "type": "hook",
      "deliverable": "useAutoLinkPubkey.ts"
    },
    {
      "id": 6,
      "title": "Create useLinkedPubkeys hook",
      "description": "Create useLinkedPubkeys.ts hook - Fetch and manage linked pubkeys for Firebase accounts. This hook provides a list of pubkeys linked to the user's account.",
      "labels": ["enhancement", "authentication", "hooks"],
      "priority": "high",
      "type": "hook",
      "deliverable": "useLinkedPubkeys.ts"
    },
    {
      "id": 7,
      "title": "Test enhanced login flows integration",
      "description": "Comprehensive testing of Phase 1 enhanced login components including email/password authentication flow, three-option landing page navigation, pubkey auto-linking functionality, profile selection for multiple accounts, and verification that existing functionality remains intact.",
      "labels": ["enhancement", "authentication", "testing"],
      "priority": "high",
      "type": "testing",
      "deliverable": "Test suite and validation"
    }
  ]
}
